{"title": "How to solve the Sherlock and Anagrams coding challenge in JavaScript", "byline": "Mihail Gaberov", "dir": null, "lang": "en", "content": "<div class=\"page\" id=\"readability-page-1\"><div id=\"site-main\">\n<article><h1>How to solve the Sherlock and Anagrams coding challenge in JavaScript</h1>\n<section>\n<section data-test-label=\"post-content\">\n<p>This post is going to get you through my solution to a coding challenge called \u201cSherlock and Anagrams.\u201d You may take a look at it in <a href=\"https://www.hackerrank.com/challenges/sherlock-and-anagrams\" rel=\"noopener\">HackerRank</a>.</p><p>I spent a lot of time trying to solve it, with JavaScript. When I tried to google it, I could not find a decent JS solution. I found just one, and it was not working correctly. Also, any explanations were completely out of the question. That\u2019s why I decided to write an article about it and try to put some nice and easy to digest explanations along the way. Keep reading now!</p><p>\u26a0\ufe0fCAUTION: <em>I will roll out my solution below with short explanations about each of the steps. If you want to give a try yourself, please stop here and go to HackerRank\u2019s site.</em></p><h3 id=\"problem\">Problem</h3><p>Two strings are <a href=\"http://en.wikipedia.org/wiki/Anagram\" rel=\"noopener\">anagrams</a> of each other if the letters of one string can be rearranged to form the other string. Given a string, find the number of pairs of substrings of the string that are anagrams of each other.</p><p>For example <em>s = mom</em>, the list of all anagrammatic pairs is [<em>m, m</em>], [<em>mo, om</em>] at positions [[0], [2]], [[0, 1], [1, 2]] respectively.</p><p><strong>Constraints</strong><br/>Length of the input string: 2 \u2264 |s| \u2264 100<br/>String <em>s</em> contains only lowercase letters from the range ascii[a-z].</p><h3 id=\"analysis\">Analysis</h3><p>First thing first \u2014 we need to get a better understanding of the whole problem. What is an anagram? What is an anagrammatic pair? Can I see one? Also, what exactly does it mean <em>substrings</em>?</p><p><strong>In other words, we need to have a clear picture of what are we trying to solve, before solving it.</strong></p><p>From the description of the problem, we can deduct all we need. Keep walking! ?</p><p><em>I think this is a good moment to mention that the challenge in question is under the \u201cDictionaries and Hashmaps\u201d section in the HackerRank website. You\u2019ll probably think that you should use this kind of data structure when solving it.</em> ?</p><h4 id=\"anagrams\">Anagrams</h4><p>Since we are going to look for anagrams, let\u2019s start with them. As it is described above, an anagram of one word is another word that has the same length and is created with the same characters from the former word.</p><figure><img alt=\"yqexlCorVcBamgbm1UuU1q2ixW74Zgd50bOs\" height=\"200\" loading=\"lazy\" src=\"https://cdn-media-1.freecodecamp.org/images/yqexlCorVcBamgbm1UuU1q2ixW74Zgd50bOs\" width=\"200\"/><figcaption>Animation for the anagram \u201cListen = Silent\u201d</figcaption></figure><p>So we will have to look for words and compare them with other words, in order to see if they are anagrammatic pairs. Once found, we will just count them.</p><h4 id=\"anagrammatic-pairs\">Anagrammatic pairs</h4><p>Since we\u2019ve seen what an anagram is, it should be relatively easy to conclude that an anagrammatic pair is just two strings that are anagrams. Such as \u201cmo\u201d and \u201com\u201d, or \u201clisten\u201d and \u201csilent\u201d. We will have to count how many pairs like this can be found in a given string. In order to do that, we need to split this original string to substrings.</p><h4 id=\"substrings\">Substrings</h4><p>Substrings, as the name infers, are parts of a string. These parts could be just a letter or a pair of letters, such as what have we seen in the example above \u2014 \u201c<em>m</em>\u201d or \u201c<em>mo.</em>\u201d In our solution, we will split the original string to such substrings and then we will go over them and do the comparison, which will tell us whether we have anagrammatic pairs among them.</p><h3 id=\"solution\">Solution</h3><p>Now that we\u2019ve done our analysis, it\u2019s showtime! ?</p><p>Let\u2019s summarize:</p><ol><li>We need to find all substrings of the given string \u2014 create a method for that.</li><li>We need to be able to check if two strings are anagrams \u2014 create a method for that.</li><li>We need to count all anagrammatic pairs in the given string \u2014 create a method for that.</li><li>Combine everything from above and spit the result \u2014 create a method for that.</li></ol><h4 id=\"get-all-substrings\">Get all substrings</h4><p>This will be our helper method for finding all substrings of a given string:</p><pre tabindex=\"0\"><code>function getAllSubstrings(str) {\n  let i, j, result = [];\n\n  for (i = 0; i &lt; str.length; i++) {\n    for (j = i + 1; j &lt; str.length + 1; j++) {\n      result.push(str.slice(i, j))\n    }\n  }\n  return result\n}</code></pre><p>As you can see, it has O(n\u00b2) time complexity. For our case, it does the job, because we have limited length of the input string (up to 100 characters).</p><h4 id=\"check-for-anagrams\">Check for anagrams</h4><p>This will be our helper method for checking if two strings are anagrammatic pairs:</p><pre tabindex=\"0\"><code>function isAnagram(str1, str2) {\n  const hist = {}\n\n  for (let i = 0; i &lt; str1.length; i++) {\n    const char = str1[i]\n    if (hist[char]) {\n      hist[char]++\n    } else {\n      hist[char] = 1\n    }\n  }\n\n  for (let j = 0; j &lt; str2.length; j++) {\n    const char = str2[j]\n    if (hist[char]) {\n      hist[char]--\n    } else {\n      return false\n    }\n  }\n\n  return true\n}</code></pre><p>Remember that we assumed we\u2019d most probably have to use data structures such as hashmaps or dictionaries (given the section where this challenge is found on HackerRank).</p><p>We use a simple JavaScript object to play the role of a hashmap. We do two iterations \u2014 one per string. When we iterate over the first one, we add its characters as keys to the hashmap and count their appearances, which are going to be stored as their values. Then we do another iteration over the second string. Check if its characters are stored in our hashmap. If yes \u2014 decrement their value. If there are missing characters, which means the two strings are not an anagrammatic pair, we simply return false. If both loops complete, we return true, signifying that the strings being analyzed are an anagrammatic pair.</p><h4 id=\"do-the-counting\">Do the counting</h4><p>This is the method, where we will use the helper for checking if a pair is anagrammatic and count it. We do that with the help of JavaScript arrays and the methods they provide. We iterate over an array containing all the substrings of the original string. Then we get the correct element and remove it from the array. And then we do another loop through that array and return 1 if we find that there is an anagram of the current element. If nothing is found, we return 0.</p><pre tabindex=\"0\"><code>function countAnagrams(currentIndex, arr) {\n  const currentElement = arr[currentIndex]\n  const arrRest = arr.slice(currentIndex + 1)\n  let counter = 0\n\n  for (let i = 0; i &lt; arrRest.length; i++) {\n    if (currentElement.length === arrRest[i].length &amp;&amp; isAnagram(currentElement, arrRest[i])) {\n      counter++\n    }\n  }\n\n return counter\n}</code></pre><h4 id=\"and-in-the-end\">And in the end</h4><p>The only thing left to be done now is to combine all of the above and spit the desired result. Here is how the final method looks like:</p><pre tabindex=\"0\"><code>function sherlockAndAnagrams(s) {\n  const duplicatesCount = s.split('').filter((v, i) =&gt; s.indexOf(v) !== i).length\n\n  if (!duplicatesCount) return 0\n  let anagramsCount = 0\n\n  const arr = getAllSubstrings(s)\n\n  for (let i = 0; i &lt; arr.length; i++) {\n    anagramsCount += countAnagrams(i, arr)\n  }\n\n  return anagramsCount\n}</code></pre><p><em>Maybe you have noticed, here I am checking first for duplicates in order to know if I should continue further. As if there are no duplicated letters, then it\u2019s not possible to have an anagram.</em></p><p>And finally, we get all substrings into an array, iterate over it, count the anagrammatic pairs that are found and return this number.</p><p>You can find the full code <a href=\"https://github.com/mihailgaberov/misc/blob/master/coding-challenges/sherlock-and-anagrams.js\" rel=\"noopener\">here</a>.</p><h3 id=\"conclusion\">Conclusion</h3><p>These kind of exercises are very good for making you think algorithmically. Also they change your way of working in your day to day job. My recommendation would be to do the same I am trying to do \u2014 train your brain now and then with one of those. And if you can \u2014 share. I know sometimes you don\u2019t have time for such challenges, but when you do \u2014 go for it.</p><p>My personal feeling after finishing this was total satisfaction, which is completely understandable, considering the time it took me to do it. But in the end, dear reader, I am even happier I can share this experience with you?!</p><p>Thanks for reading. Read more of my articles at <a href=\"https://mihail-gaberov.eu/sherlock-and-anagrams/\" rel=\"noopener\">mihail-gaberov.eu</a>.</p>\n</section>\n<hr/>\n<hr/>\n<p>\n        Learn to code for free. freeCodeCamp's open source curriculum has helped more than 40,000 people get jobs as developers. <a href=\"https://www.freecodecamp.org/learn/\" id=\"learn-to-code-cta\" rel=\"noopener noreferrer\" target=\"_blank\">Get started</a>\n</p>\n</section>\n</article>\n</div></div>", "textContent": "\n            \n                \n                \n                \n                    \n                \n                \n                    \n                            \nThis post is going to get you through my solution to a coding challenge called \u201cSherlock and Anagrams.\u201d You may take a look at it in HackerRank.I spent a lot of time trying to solve it, with JavaScript. When I tried to google it, I could not find a decent JS solution. I found just one, and it was not working correctly. Also, any explanations were completely out of the question. That\u2019s why I decided to write an article about it and try to put some nice and easy to digest explanations along the way. Keep reading now!\u26a0\ufe0fCAUTION: I will roll out my solution below with short explanations about each of the steps. If you want to give a try yourself, please stop here and go to HackerRank\u2019s site.ProblemTwo strings are anagrams of each other if the letters of one string can be rearranged to form the other string. Given a string, find the number of pairs of substrings of the string that are anagrams of each other.For example s = mom, the list of all anagrammatic pairs is [m, m], [mo, om] at positions [[0], [2]], [[0, 1], [1, 2]] respectively.ConstraintsLength of the input string: 2 \u2264 |s| \u2264 100String s contains only lowercase letters from the range ascii[a-z].AnalysisFirst thing first \u2014 we need to get a better understanding of the whole problem. What is an anagram? What is an anagrammatic pair? Can I see one? Also, what exactly does it mean substrings?In other words, we need to have a clear picture of what are we trying to solve, before solving it.From the description of the problem, we can deduct all we need. Keep walking! ?I think this is a good moment to mention that the challenge in question is under the \u201cDictionaries and Hashmaps\u201d section in the HackerRank website. You\u2019ll probably think that you should use this kind of data structure when solving it. ?AnagramsSince we are going to look for anagrams, let\u2019s start with them. As it is described above, an anagram of one word is another word that has the same length and is created with the same characters from the former word.Animation for the anagram \u201cListen = Silent\u201dSo we will have to look for words and compare them with other words, in order to see if they are anagrammatic pairs. Once found, we will just count them.Anagrammatic pairsSince we\u2019ve seen what an anagram is, it should be relatively easy to conclude that an anagrammatic pair is just two strings that are anagrams. Such as \u201cmo\u201d and \u201com\u201d, or \u201clisten\u201d and \u201csilent\u201d. We will have to count how many pairs like this can be found in a given string. In order to do that, we need to split this original string to substrings.SubstringsSubstrings, as the name infers, are parts of a string. These parts could be just a letter or a pair of letters, such as what have we seen in the example above \u2014 \u201cm\u201d or \u201cmo.\u201d In our solution, we will split the original string to such substrings and then we will go over them and do the comparison, which will tell us whether we have anagrammatic pairs among them.SolutionNow that we\u2019ve done our analysis, it\u2019s showtime! ?Let\u2019s summarize:We need to find all substrings of the given string \u2014 create a method for that.We need to be able to check if two strings are anagrams \u2014 create a method for that.We need to count all anagrammatic pairs in the given string \u2014 create a method for that.Combine everything from above and spit the result \u2014 create a method for that.Get all substringsThis will be our helper method for finding all substrings of a given string:function getAllSubstrings(str) {\n  let i, j, result = [];\n\n  for (i = 0; i < str.length; i++) {\n    for (j = i + 1; j < str.length + 1; j++) {\n      result.push(str.slice(i, j))\n    }\n  }\n  return result\n}As you can see, it has O(n\u00b2) time complexity. For our case, it does the job, because we have limited length of the input string (up to 100 characters).Check for anagramsThis will be our helper method for checking if two strings are anagrammatic pairs:function isAnagram(str1, str2) {\n  const hist = {}\n\n  for (let i = 0; i < str1.length; i++) {\n    const char = str1[i]\n    if (hist[char]) {\n      hist[char]++\n    } else {\n      hist[char] = 1\n    }\n  }\n\n  for (let j = 0; j < str2.length; j++) {\n    const char = str2[j]\n    if (hist[char]) {\n      hist[char]--\n    } else {\n      return false\n    }\n  }\n\n  return true\n}Remember that we assumed we\u2019d most probably have to use data structures such as hashmaps or dictionaries (given the section where this challenge is found on HackerRank).We use a simple JavaScript object to play the role of a hashmap. We do two iterations \u2014 one per string. When we iterate over the first one, we add its characters as keys to the hashmap and count their appearances, which are going to be stored as their values. Then we do another iteration over the second string. Check if its characters are stored in our hashmap. If yes \u2014 decrement their value. If there are missing characters, which means the two strings are not an anagrammatic pair, we simply return false. If both loops complete, we return true, signifying that the strings being analyzed are an anagrammatic pair.Do the countingThis is the method, where we will use the helper for checking if a pair is anagrammatic and count it. We do that with the help of JavaScript arrays and the methods they provide. We iterate over an array containing all the substrings of the original string. Then we get the correct element and remove it from the array. And then we do another loop through that array and return 1 if we find that there is an anagram of the current element. If nothing is found, we return 0.function countAnagrams(currentIndex, arr) {\n  const currentElement = arr[currentIndex]\n  const arrRest = arr.slice(currentIndex + 1)\n  let counter = 0\n\n  for (let i = 0; i < arrRest.length; i++) {\n    if (currentElement.length === arrRest[i].length && isAnagram(currentElement, arrRest[i])) {\n      counter++\n    }\n  }\n\n return counter\n}And in the endThe only thing left to be done now is to combine all of the above and spit the desired result. Here is how the final method looks like:function sherlockAndAnagrams(s) {\n  const duplicatesCount = s.split('').filter((v, i) => s.indexOf(v) !== i).length\n\n  if (!duplicatesCount) return 0\n  let anagramsCount = 0\n\n  const arr = getAllSubstrings(s)\n\n  for (let i = 0; i < arr.length; i++) {\n    anagramsCount += countAnagrams(i, arr)\n  }\n\n  return anagramsCount\n}Maybe you have noticed, here I am checking first for duplicates in order to know if I should continue further. As if there are no duplicated letters, then it\u2019s not possible to have an anagram.And finally, we get all substrings into an array, iterate over it, count the anagrammatic pairs that are found and return this number.You can find the full code here.ConclusionThese kind of exercises are very good for making you think algorithmically. Also they change your way of working in your day to day job. My recommendation would be to do the same I am trying to do \u2014 train your brain now and then with one of those. And if you can \u2014 share. I know sometimes you don\u2019t have time for such challenges, but when you do \u2014 go for it.My personal feeling after finishing this was total satisfaction, which is completely understandable, considering the time it took me to do it. But in the end, dear reader, I am even happier I can share this experience with you?!Thanks for reading. Read more of my articles at mihail-gaberov.eu.\n\n                        \n                    \n                    \n                        \n                        \n                    \n\n                    \n                    \n                        \n    \n\n\n\n\n\n    \n    \n\n\n                        \n\n\n        Learn to code for free. freeCodeCamp's open source curriculum has helped more than 40,000 people get jobs as developers. Get started\n    \n\n                    \n                \n                \n                    \n                \n            \n        ", "length": 8039, "excerpt": "This post is going to get you through my solution to a coding challenge called\n\u201cSherlock and Anagrams.\u201d You may take a look at it in HackerRank\n[https://www.hackerrank.com/challenges/sherlock-and-anagrams].\n\nI spent a lot of time trying to solve it, with JavaScript. When I tried to\ngoogle it, I could not find a decent JS solution. I found just one, and it was\nnot working correctly. Also, any explanations were completely out of the\nquestion. That\u2019s why I decided to write an article about it and t", "siteName": "freeCodeCamp.org", "publishedTime": "2019-04-23T15:28:07.000Z", "id": "0bb75cb8a333668c1c41b0d1e3e4beb317b80730", "url": "https://www.freecodecamp.org/news/how-to-solve-the-sherlock-and-anagrams-coding-challenge-in-javascript-a80baa908637/", "domain": "freecodecamp.org", "date": "2023-12-27T18:11:36.879053", "resultUri": "http://localhost:3000/result/0bb75cb8a333668c1c41b0d1e3e4beb317b80730", "query": {"url": ["https://www.freecodecamp.org/news/how-to-solve-the-sherlock-and-anagrams-coding-challenge-in-javascript-a80baa908637/"]}, "meta": {"og": {"site_name": "freeCodeCamp.org", "type": "article", "title": "How to solve the Sherlock and Anagrams coding challenge in JavaScript", "description": "This post is going to get you through my solution to a coding challenge called \u201cSherlock and Anagrams.\u201d You may take a look at it in HackerRank [https://www.hackerrank.com/challenges/sherlock-and-anagrams]. I spent a lot of time trying to solve it, with JavaScript. When I tried to google it, I could not find", "url": "https://www.freecodecamp.org/news/how-to-solve-the-sherlock-and-anagrams-coding-challenge-in-javascript-a80baa908637/", "image": "https://cdn-media-1.freecodecamp.org/images/1*A_R6N6YK1HylRbzIi_0KPw.jpeg", "image:width": "800", "image:height": "533"}, "twitter": {"card": "summary_large_image", "title": "How to solve the Sherlock and Anagrams coding challenge in JavaScript", "description": "This post is going to get you through my solution to a coding challenge called \u201cSherlock and Anagrams.\u201d You may take a look at it in HackerRank [https://www.hackerrank.com/challenges/sherlock-and-anagrams]. I spent a lot of time trying to solve it, with JavaScript. When I tried to google it, I could not find", "url": "https://www.freecodecamp.org/news/how-to-solve-the-sherlock-and-anagrams-coding-challenge-in-javascript-a80baa908637/", "image": "https://cdn-media-1.freecodecamp.org/images/1*A_R6N6YK1HylRbzIi_0KPw.jpeg", "label1": "Written by", "data1": "Mihail Gaberov", "label2": "Filed under", "data2": "JavaScript, Algorithms, Coding Challenge, Tech, Programming", "site": "@freecodecamp", "creator": "@mihailgaberov"}}}